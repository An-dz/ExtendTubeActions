{
    "actions": {
        "player size buttons": {
            "enabled": true,
            "exec": "/**\n * @version 1.4\n */\n\n// Action trigger: document modified\n\n/*! settings begin */\nvar reverseToolTips = true,\n\taddTo = {\n\t\t// reference node for adding buttons\n\t\tnode: document.querySelector(\".ext-actions-right\"),\n\t\t// where to add buttons relative to reference node;\n\t\t// beforebegin, afterbegin, beforeend or afterend\n\t\twhere: \"beforeend\"\n\t}\n/*! settings end */\n\nif (!addTo.node || !xtt.video.isWatch)\n\treturn\n\naddStyle()\naddTo.node.insertAdjacentElement(addTo.where, createSizeButtons())\nresizePlayer(window.localStorage.getItem(\"ext-custom-player-size\") || \"watch-small\")\n\nfunction addStyle() {\n\tvar style = document.createElement(\"style\"),\n\t\tcss = \"\\\n#ext-player-small-button img,\\n\\\n#ext-player-medium-button img,\\n\\\n#ext-player-large-button img {\\n\\\n\tbox-sizing: border-box;\\n\\\n\tborder: 1px solid black;\\n\\\n\tbackground: hsla(0, 0%, 0%, .2);\\n\\\n}\\n\\\n.ext-light-icon #ext-player-small-button img,\\n\\\n.ext-light-icon #ext-player-medium-button img,\\n\\\n.ext-light-icon #ext-player-large-button img {\\n\\\n\tborder: 1px solid white;\\n\\\n\tbackground: hsla(0, 0%, 100%, .2);\\n\\\n}\\n\\\n#ext-player-small-button img {\\n\\\n\twidth: 9px;\\n\\\n\theight: 5px;\\n\\\n}\\n\\\n#ext-player-medium-button img {\\n\\\n\twidth: 13px;\\n\\\n\theight: 8px;\\n\\\n}\\n\\\n#ext-player-large-button img {\\n\\\n\twidth: 18px;\\n\\\n\theight: 11px;\\n\\\n}\\n\"\n\n\tstyle.setAttribute(\"type\", \"text/css\")\n\tstyle.dataset.styleFor = \"ext-action-player-size-buttons\"\n\tstyle.textContent = css\n\n\tdocument.querySelector(\"head\").appendChild(style)\n}\n\nfunction createSizeButtons() {\n\tvar container = document.createElement(\"span\"),\n\t\tsmall = createButton({\n\t\t\t\"class\": getButtonClass() + \" ext-button-start\",\n\t\t\t\"id\": \"ext-player-small-button\",\n\t\t\t\"data-tooltip-text\": \"Player size: small\",\n\t\t\t\"data-player-size\": \"watch-small\"\n\t\t}),\n\t\tmedium = createButton({\n\t\t\t\"class\": getButtonClass() + \" ext-button-middle\",\n\t\t\t\"id\": \"ext-player-medium-button\",\n\t\t\t\"data-tooltip-text\": \"Player size: medium\",\n\t\t\t\"data-player-size\": \"watch-medium\"\n\t\t}),\n\t\tlarge = createButton({\n\t\t\t\"class\": getButtonClass() + \" ext-button-end\",\n\t\t\t\"id\": \"ext-player-large-button\",\n\t\t\t\"data-tooltip-text\": \"Player size: large\",\n\t\t\t\"data-player-size\": \"watch-large\"\n\t\t})\n\n\tcontainer.appendChild(small)\n\tcontainer.appendChild(medium)\n\tcontainer.appendChild(large)\n\n\tsmall.addEventListener(\"click\", resizePlayer, false)\n\tmedium.addEventListener(\"click\", resizePlayer, false)\n\tlarge.addEventListener(\"click\", resizePlayer, false)\n\n\treturn container\n}\n\nfunction resizePlayer(size) {\n\tif (typeof size != \"string\")\n\t\tsize = this.dataset.playerSize\n\n\tdocument.querySelector(\"#watch7-container\").className = size\n\n\tif (size == \"watch-small\") {\n\t\tdocument.querySelector(\"#watch7-container\").classList.remove(\"watch-wide\")\n\t\tdocument.querySelector(\"#watch7-container\").classList.remove(\"watch-playlist-collapsed\")\n\t}\n\telse {\n\t\tdocument.querySelector(\"#watch7-container\").classList.add(\"watch-wide\")\n\t\tdocument.querySelector(\"#watch7-container\").classList.add(\"watch-playlist-collapsed\")\n\t}\n\n\tArray.prototype.forEach.call(document.querySelectorAll(\"button[data-player-size]\"), function (node) {\n\t\tif (node.dataset.playerSize == size)\n\t\t\tnode.classList.add(\"yt-uix-button-active\")\n\t\telse\n\t\t\tnode.classList.remove(\"yt-uix-button-active\")\n\t})\n\n\twindow.localStorage.setItem(\"ext-custom-player-size\", size)\n}\n\nfunction createButton(attribute) {\n\tvar button = document.createElement(\"button\")\n\n\tfor (var p in attribute)\n\t\tbutton.setAttribute(p, attribute[p])\n\n\treturn button.appendChild(document.createElement(\"img\")), button\n}\n\nfunction getButtonClass() {\n\tvar buttonClass = \"yt-uix-button yt-uix-button-text yt-uix-tooltip ext-button\"\n\tif (reverseToolTips)\n\t\treturn buttonClass + \" yt-uix-tooltip-reverse\"\n\treturn buttonClass\n}\n",
            "trigger": "doc modified"
        }
    }
}
